# –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∞ –∏ –∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–æ–¥–∞–∂

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö (—á–µ–∫–∏) –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∏—Ö –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL. –°–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Ä–∞–±–æ—Ç—É –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é —á–µ—Ä–µ–∑ Crontab.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
1.  **Python 3.8+**
2.  **PostgreSQL** (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ –¥–æ—Å—Ç—É–ø –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É)
3.  **Terminal** (macOS/Linux)

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤
1. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `shop_project`).
2. –ü–æ–º–µ—Å—Ç–∏—Ç–µ —Ç—É–¥–∞ —Ñ–∞–π–ª—ã:
    *   `generate_sales.py` (–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —á–µ–∫–æ–≤)
    *   `import_db.py` (–°–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞ –≤ –ë–î)
    *   `run_tasks.sh` (–°–∫—Ä–∏–ø—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞)
3. –°–æ–∑–¥–∞–π—Ç–µ –≤–Ω—É—Ç—Ä–∏ –ø–∞–ø–∫—É –¥–ª—è –¥–∞–Ω–Ω—ã—Ö:
    ```bash
    mkdir data
    ```

### –®–∞–≥ 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL:
```bash
pip3 install psycopg2-binary
 ```

### –®–∞–≥ 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–∞–∑—ã –î–∞–Ω–Ω—ã—Ö
1. –ó–∞–π–¥–∏—Ç–µ –≤ PostgreSQL (—á–µ—Ä–µ–∑ pgAdmin –∏–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª) –∏ —Å–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω–µ—Ç).
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL-–∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã –∏–∑ —Ñ–∞–π–ª–∞ DDL
```bash
CREATE TABLE IF NOT EXISTS data_shops (
    id SERIAL PRIMARY KEY,
    doc_id VARCHAR(50) NOT NULL,
    shop_id INTEGER NOT NULL,
    cash_id INTEGER NOT NULL,
    item_name VARCHAR(255) NOT NULL,
    category VARCHAR(100),
    amount INTEGER NOT NULL,
    price NUMERIC(10, 2) NOT NULL,
    discount NUMERIC(10, 2) DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
 ```

### –®–∞–≥ 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î (postgr_data.py). –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª postgr_data.py –∏ –Ω–∞–π–¥–∏—Ç–µ –±–ª–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –£–∫–∞–∂–∏—Ç–µ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ:
```bash
DB_HOST = 'localhost'
DB_NAME = 'postgres'      # –ò–º—è –≤–∞—à–µ–π –ë–î
DB_USER = 'postgres'      # –í–∞—à –ª–æ–≥–∏–Ω
DB_PASS = '–≤–∞—à_–ø–∞—Ä–æ–ª—å'    # –í–∞—à –ø–∞—Ä–æ–ª—å
 ```

2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–µ–π (run_tasks.sh) –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª run_tasks.sh –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç–∏ –≤–µ–¥—É—Ç –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–∞–ø–∫–µ –Ω–∞ –Ω–æ–≤–æ–π –º–∞—à–∏–Ω–µ:






